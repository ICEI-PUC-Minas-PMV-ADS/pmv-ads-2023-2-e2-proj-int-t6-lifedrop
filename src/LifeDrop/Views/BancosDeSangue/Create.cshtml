@model LifeDrop.Models.BancoDeSangue

@{
    ViewData["Title"] = "Create";
}

@{
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<head>
    <style>

        .container {
            display: flex;
            flex-wrap: nowrap;
        }

        #solicitar_doacao{
            width: auto;
            height: auto;
            background-color: white;
            border-radius: 15px;
            border-color: white;
            margin: 25px 25px 25px 25px;
        }

        h3{
            text-align: center;
            margin: 25px 0px 25px 0px;
        }
        .item {
            width: 600px;
            height: auto;
            background-color: white;
            border-radius: 15px;
            margin: 25px 25px 25px 25px; 
        }

        form {
            margin: 25px 25px 25px 25px;
        }

        button {
            background-color: #014AAD;
            border-radius: 5px;
            border-color: #014AAD;
            width: 120px;
            color: white;
        }

        table {
            margin: 25px 20px 25px 20px;
            width: 350px;
            height: 160px;
            background-color: white;
            border-radius: 15px;
            border-collapse: separate;
            border-spacing: 15px;
            table-layout: fixed;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="item">
            <h3> Posto de Coleta</h3>
            <table>
                <tr>
                    <th>Tipo Sanguíneo</th>
                    <th>Estoque</th>
                </tr>
                <tr>
                    <td><strong>O+</strong></td>
                    <td><button onclick="editarEstoque(this)">Critico</button></td>
                </tr>
                <tr>
                    <td><strong>O-</strong></td>
                    <td><button onclick="editarEstoque(this)">Alerta</button></td>
                </tr>
                <tr>
                    <td><strong>A+</strong></td>
                    <td><button onclick="editarEstoque(this)">Adequado</button></td>
                </tr>
                <tr>
                    <td><strong>A-</strong></td>
                    <td><button onclick="editarEstoque(this)">Alerta</button></td>
                </tr>
                <tr>
                    <td><strong>B+</strong></td>
                    <td><button onclick="editarEstoque(this)">Adequado</button></td>
                </tr>
                <tr>
                    <td><strong>B-</strong></td>
                    <td><button onclick="editarEstoque(this)">Alerta</button></td>
                </tr>
                <tr>
                    <td><strong>AB+</strong></td>
                    <td><button onclick="editarEstoque(this)">Estável</button></td>
                </tr>
                <tr>
                    <td><strong>AB-</strong></td>
                    <td><button onclick="editarEstoque(this)">Alerta</button></td>
                </tr>
            </table>
        </div>
        <div class="item">
         
                <h3>Cadastro de  banco de sangue</h3>
                <form asp-action="Create">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    <div class="form-group">
                        <label asp-for="NomeUnidade" class="control-label"></label>
                        <input asp-for="NomeUnidade" class="form-control" />
                        <span asp-validation-for="NomeUnidade" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="Email" class="control-label"></label>
                        <input asp-for="Email" class="form-control" />
                        <span asp-validation-for="Email" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="Telefone" class="control-label"></label>
                    <input asp-for="Telefone" type="text" class="form-control"  />
                        <span asp-validation-for="Telefone" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="Endereco" class="control-label"></label>
                        <input asp-for="Endereco" class="form-control" />
                        <span asp-validation-for="Endereco" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="Estado" class="control-label"></label>
                        <input asp-for="Estado" class="form-control" />
                        <span asp-validation-for="Estado" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="Municipio" class="control-label"></label>
                        <input asp-for="Municipio" class="form-control" />
                        <span asp-validation-for="Municipio" class="text-danger"></span>
                    </div>
                    <br />
                    <div class="form-group">
                        <input type="submit" value="Adicionar" class="btn btn-success" />
                        <a asp-action="Index" class="btn btn-info">Voltar</a>
                    </div>
                </form>
            </div>

        
    </div>
    <div >
        <fieldset id="solicitar_doacao">
            <legend>Solicitar doação emergencial</legend>
            <div>
                <br>
                <label for="">Tipo Sanguíneo</label>
                <select name="" id="list">
                    <option value="">O+</option>
                    <option value="">O-</option>
                    <option value="">A+</option>
                    <option value="">A-</option>
                    <option value="">B+</option>
                    <option value="">B-</option>
                    <option value="">AB+</option>
                    <option value="">AB-</option>
                </select>
            </div>
            <br>
            <button  asp-controller="PainelAdministrador" asp-action="Agendamentos">Solicitar</button>

        </fieldset>
    </div>
</body>


<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
   
    $(document).ready(function () {
        // Estados
        $.getJSON('https://servicodados.ibge.gov.br/api/v1/localidades/estados', function (data) {
            var options = '<option value="">Selecione um estado</option>';
            $.each(data, function (key, value) {
                options += '<option value="' + value.sigla + '">' + value.nome + '</option>';
            });
            $('#estado').html(options);
        });
     
        // Municipios
        $('#estado').change(function () {
            var estadoSigla = $(this).val();
            if (estadoSigla) {
                $.getJSON('https://servicodados.ibge.gov.br/api/v1/localidades/estados/' + estadoSigla + '/municipios', function (data) {
                    var options = '<option value="">Selecione um município</option>';
                    $.each(data, function (key, value) {
                        options += '<option value="' + value.nome + '">' + value.nome + '</option>';
                    });
                    $('#municipio').html(options);
                });
            } else {
                $('#municipio').html('<option value="">Selecione um estado primeiro</option>');
            }
        });
    });
</script>
<


<script>

    function editarEstoque(botao) {
        var cell = botao.parentNode;
        var row = cell.parentNode;

        var tipoSanguineo = row.cells[0].innerText;
        var novoEstoque = prompt('Digite o novo valor de estoque para ' + tipoSanguineo);

        if (novoEstoque !== null) {
            row.cells[1].innerHTML = '<button onclick="editarEstoque(this)">' + novoEstoque + '</button>';
        }
    }
    
</script>


@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}

}

